#!/bin/bash

### compile Joe
cp $MUM_HOME/makefiles/Makefile .
make joe

### Modify next line to give the correct path to your mpiexec or mpirun
export pararun='mpirun'

### run joe with different time integration schemes
$pararun -np 2 ./joe Joe.forward_euler.in 1 
mv shocktube.dat shocktube_FORWARD_EULER.dat
export RUN_TYPE="FORWARD_EULER"
gnuplot gnu_comp_exact

$pararun -np 2 ./joe Joe.rk.in 1 
mv shocktube.dat shocktube_RK.dat
export RUN_TYPE="RK"
gnuplot gnu_comp_exact

$pararun -np 2 ./joe Joe.backward_euler.in 1 
mv shocktube.dat shocktube_BACKWARD_EULER.dat
export RUN_TYPE="BACKWARD_EULER"
gnuplot gnu_comp_exact

$pararun -np 2 ./joe Joe.bdf2.in 1 
mv shocktube.dat shocktube_BDF2.dat
export RUN_TYPE="BDF2"
gnuplot gnu_comp_exact

rm restart.out

### compare density solution between all schemes 
gnuplot gnu_comp_time_integration


