# gnuplot script to draw convergence 
set autoscale                        # scale axes automatically
set logscale y
unset label                            # remove any previous labels
set xtic auto                          # set xtics automatically
set ytic auto                          # set ytics automatically
set title "convergence"
set xlabel "timesteps"
set ylabel "cfl, residual"
set xr [0:5000]
set yr [1.e-13:1.0e3]
set terminal png
set output 'convergence.png'

plot    "<grep cfl   log.file" u 3:5 title 'cfl' with lines, \
        "<grep RESID log.file" u 2:($3/5.6020e-01) title 'rho'  with lines, \
        "<grep RESID log.file" u 2:($4/2.9885e+02) title 'rho u' with lines, \
        "<grep RESID log.file" u 2:($5/1.6651e+02) title 'rho v' with lines, \
        "<grep RESID log.file" u 2:($7/1.6226e+05) title 'rho E' with lines, \
        "<grep RESID log.file" u 2:($8/9.7001e+02) title 'rho kine' with lines, \
        "<grep RESID log.file" u 2:($9/3.8666e+06) title 'rho omega' with lines
