#!/usr/bin/perl

# make a layout file with a name like movie.XXXXXX.lay
$layout_prefix = "movie";

$Finit = $ARGV[0];
$Ffinal = $ARGV[1];
$Fstep = $ARGV[2];

$F = $Finit;

while ($F <= $Ffinal) {
    $File = sprintf("%06d", $F);
    print "working of file: $File\n";
    $F = $F + $Fstep;
    `cat $layout_prefix.XXXXXX.lay | sed "s/XXXXXX/$File/g" > $layout_prefix.tmp.lay`;
    `tec360 -mesa -b ./png.mcr $layout_prefix.tmp.lay`;
    `mv export.png $layout_prefix.$File.png`;
    `rm $layout_prefix.tmp.lay`;
}



